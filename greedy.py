__author__ = 'urvish'
import pyperclip

def rev(lst):
    def rev_sign(str):
        if str[0] == '-':
            return '+'+ str[1:]
        else:
            return '-' + str[1:]
    sublist = lst[::-1]
    return [rev_sign(x) for x in sublist]

def main(P):

    absvals = [abs(int(p)) for p in P]
    maxnum = max(absvals)
    result = ""
    for i in range(1, maxnum+1):
        if i >1:
            if int(P[i-2]) +1 == int(P[i-1]):
                #its sorted so
                continue
        iindex = absvals.index(i)
        ##found the index now reverse from first
        sublist = P[i-1:iindex+1]
        if len(sublist) > 1:
            absvalssublist = absvals[i-1:iindex+1]
            absvals[i-1:iindex+1] = absvalssublist[::-1]
            P[i-1:iindex+1] = rev(sublist)

            result+= "(" +" ".join(P) + ")\n"
        if P[i-1][0]=='-':
            P[i-1] = '+' + P[i-1][1:]
            result+="(" +" ".join(P) + ")\n"
    print result
    pyperclip.copy(result)
    return result

if __name__ == "__main__":
    P = "(+186 -354 +211 -112 +215 +352 +250 +83 -96 -84 +196 -426 +153 -53 -460 +26 -73 +459 +224 -380 -345 +284 -225 -213 +28 +82 +315 -178 -48 +477 +131 -299 +134 +481 +280 -242 -321 -448 +400 +281 +398 -21 +390 +70 -168 -126 -440 +191 -445 +13 +109 +294 -464 -252 +443 -399 -249 +408 +365 +152 -11 +72 +17 +248 +290 +298 -42 -333 +20 -104 -37 +482 +259 -200 +420 -406 -204 +77 -347 -188 -432 +88 -338 -433 +35 -51 -34 +377 -404 -422 +181 +185 -173 +318 -41 +343 +135 -157 +129 -40 +366 -36 +247 -202 +217 -449 +446 -369 -229 -470 -61 -141 +278 -18 -308 +270 +359 -386 +32 +254 +140 +212 +246 -144 +468 -81 -189 +230 +381 -276 -146 +461 -310 +453 -115 +33 -14 +469 -111 -169 +155 -329 -142 -124 +346 +110 +355 +156 -397 +339 -441 -116 +473 +66 +442 +148 -360 +54 +289 +396 +483 +454 -361 -322 +75 +260 +31 +447 -340 +480 +332 +312 +5 -293 +59 +167 -256 -165 -309 +416 -451 +133 +275 -190 +78 -58 +45 -317 +220 +379 -119 -128 -471 -29 +209 -206 -364 +1 -243 -30 -258 +376 -370 -12 -117 +430 +162 -421 +341 +125 -4 +172 -65 +387 +465 -3 -373 -291 +147 +313 -301 -263 +306 -143 +274 -316 +214 +351 -409 +437 -102 +6 -139 +151 +303 -323 -89 -231 -319 +374 +192 +46 +57 -138 +19 +44 +241 +240 +296 +413 -64 +99 +349 -394 -71 +266 +456 -94 -330 +269 -160 -410 +221 -161 +123 -383 +367 -272 -170 -114 +68 +391 +475 -326 -279 -358 +222 +183 +203 +402 -23 -467 -414 -86 -305 +253 -98 +372 -436 -235 -431 -137 -463 -205 +49 +118 -348 -331 +22 -106 -216 -76 -479 +171 +389 -8 -38 +455 +439 +357 -194 -103 +395 +257 +350 -187 +336 +300 +378 +43 +297 +27 +285 +325 -428 +236 +105 -207 -261 +195 -304 +9 -208 +393 +418 +201 +24 -286 +334 +74 -362 -438 +423 -159 +405 +47 -385 -150 +69 -91 -10 -227 -478 -234 -158 -182 -472 -175 +180 -302 +287 -429 -80 -62 +271 -268 +122 +277 +113 +419 +244 +95 +273 +145 +307 -60 -458 -311 -176 +107 +223 -450 +218 +411 -90 +363 -356 -457 -199 +52 -85 -255 -237 +415 -198 +314 -371 -7 +462 +130 +444 +132 +335 +136 -164 +101 -184 +417 -50 -337 +163 -245 +2 +238 -262 -295 +97 +283 -108 +435 -174 +288 +228 -403 -328 -149 -63 -320 +466 -166 -368 -353 -87 -239 +120 +324 -392 -226 -282 +476 +154 -79 -93 -425 -92 +15 +474 +388 -100 +265 -401 +177 +412 -407 +452 -179 -382 -56 +434 +193 +127 -342 -121 +264 -16 -375 +344 -197 -219 +67 +427 +25 -210 +424 -233 -39 -384 -292 -232 -251 -55 +327 +267)"
    result = """(-1 -4 +3 +5 -2)
(+1 -4 +3 +5 -2)
(+1 +2 -5 -3 +4)
(+1 +2 +3 +5 +4)
(+1 +2 +3 -4 -5)
(+1 +2 +3 +4 -5)
(+1 +2 +3 +4 +5)"""

    P = P.rstrip(")")
    P = P.lstrip("(")
    P = P.split(" ")



    res = main(P)

##
  #(-1 -4 +3 +5 -2)
  #   (+1 -4 +3 +5 -2)
   #  (+1 +2 -5 -3 +4)
    # (+1 +2 +3 +5 +4)
    # (+1 +2 +3 -4 -5)
    # (+1 +2 +3 +4 -5)
     #(+1 +2 +3 +4 +5)